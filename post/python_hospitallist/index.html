<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>[Python]39助手心理科医院列表抓取记录 | 小九的酒窝</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://hudaqian.github.io/favicon.ico?v=1606553410345">
<link rel="stylesheet" href="https://hudaqian.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="1、准备模块
这个没什么，和医生的一样

2、分析网页
列表页就不说了，跟医生的一样，医院首页的信息是

然后分析了下详细介绍的地址

最后分析需要的数据
等级、别名

标签

电话、地址

简介等信息

3、核心代码
主要是类型一样的处理..." />
    <meta name="keywords" content="Python" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://hudaqian.github.io">
        <img src="https://hudaqian.github.io/images/avatar.png?v=1606553410345" class="site-logo">
        <h1 class="site-title">小九的酒窝</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="https://hudaqian.github.io/post/aboutme" class="site-nav">
            关于
          </a>
        
      
        
          <a href="https://github.com/HuDaQian" class="site-nav" target="_blank">
            Github
          </a>
        
      
        
          <a href="https://hudaqian.github.io/GameLibrary/My2048/index.html" class="site-nav" target="_blank">
            2048
          </a>
        
      
        
          <a href="https://hudaqian.github.io/GameLibrary/CatGame/index.html" class="site-nav" target="_blank">
            CatchCat
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      <h3>最香不过荷包蛋<br>最美不过夜归人<h3>
    </div>
    <div class="site-footer">
      <h3>Miloy❤️Grace</h3> | <a class="rss" href="https://hudaqian.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">[Python]39助手心理科医院列表抓取记录</h2>
            <div class="post-date">2019-11-23</div>
            
            <div class="post-content" v-pre>
              <h1 id="1-准备模块">1、准备模块</h1>
<pre><code>这个没什么，和医生的一样
</code></pre>
<h1 id="2-分析网页">2、分析网页</h1>
<p>列表页就不说了，跟医生的一样，医院首页的信息是<br>
<img src="https://hudaqian.github.io/post-images/1574504638087.jpg" alt="详细介绍在第二页" loading="lazy"></p>
<p>然后分析了下详细介绍的地址<br>
<img src="https://hudaqian.github.io/post-images/1574504578427.jpg" alt="详细介绍的地址" loading="lazy"></p>
<p>最后分析需要的数据</p>
<p>等级、别名<br>
<img src="https://hudaqian.github.io/post-images/1574504780957.jpg" alt="等级、别名" loading="lazy"></p>
<p>标签<br>
<img src="https://hudaqian.github.io/post-images/1574504801337.jpg" alt="标签" loading="lazy"></p>
<p>电话、地址<br>
<img src="https://hudaqian.github.io/post-images/1574504827681.jpg" alt="电话、地址" loading="lazy"></p>
<p>简介等信息<br>
<img src="https://hudaqian.github.io/post-images/1574504850031.jpg" alt="简介等信息" loading="lazy"></p>
<h1 id="3-核心代码">3、核心代码</h1>
<p>主要是类型一样的处理</p>
<p>比如：地址、电话</p>
<pre><code>	#电话和地址还有分院放一起处理
	phone = ''
	adress = ''
	son_name = ''
	son_url = ''
	info_list = soup.select('dl[class=&quot;sur-info clearfix&quot;] dd')
	for i in info_list:
		# print(repr(i.previous_element.previous_element))

		if repr(i.previous_element.previous_element) == &quot;'电话：'&quot;:
			phone += str(i.span.get_text() + '\n')
		elif repr(i.previous_element.previous_element) == &quot;'地址：'&quot;:
			adress += str(i.span.get_text() + '\n')
		elif repr(i.previous_element.previous_element) == &quot;'分院：'&quot;:
			son_name += str(i.span.get_text() + '\n')
			son_url += str(i.a.get('href') + '\n')
</code></pre>
<p>简介等信息</p>
<pre><code>	#简介、科研成果、获奖荣誉和先进设备放一起处理
	detail = ''
	scientific = ''
	prize = ''
	equip = ''
	detail_list = soup.select('dl[class=&quot;sur-info2 clearfix&quot;] dd')
	for i in detail_list:
		# print(repr(i.previous_element.previous_element))

		if repr(i.previous_element.previous_element) == &quot;'简介'&quot;:
			# print(i.get_text())
			detail += str(i.get_text() + '\n')
		elif repr(i.previous_element.previous_element) == &quot;'科研成果'&quot;:
			# print(i.get_text())
			scientific += str(i.get_text() + '\n')
		elif repr(i.previous_element.previous_element) == &quot;'获奖荣誉'&quot;:
			# print(i.get_text())
			prize += str(i.get_text() + '\n')
		elif repr(i.previous_element.previous_element) == &quot;'先进设备'&quot;:
			# print(i.get_text())
			equip += str(i.get_text() + '\n')	
</code></pre>
<p>#4、开始抓取</p>
<p>送上源码：<br>
https://github.com/HuDaQian/PythonDemo/tree/master/Hospital_list</p>
<p><a href="https://hudaqian.github.io/tag/python"> Python </a></p>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://hudaqian.github.io/tag/python/" class="tag">
                    Python
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://hudaqian.github.io/post/python-filenamechanges/">
                  <h3 class="post-title">
                    [Python]通过正则批量替换文件名字
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>





  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '70e70574c307d3e0aab1',
        clientSecret: 'f4cac46a3ae606b5b74da444d7e6afbfbdea51d0',
        repo: 'hudaqian.github.io',
        owner: 'HuDaQian',
        admin: ['HuDaQian'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
